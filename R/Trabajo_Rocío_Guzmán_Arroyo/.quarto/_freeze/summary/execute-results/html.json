{
  "hash": "6859cc9846ceb1603c671d10fe72fd9a",
  "result": {
    "markdown": "# Estudio de los datasets\n\n\n::: {.cell WARNING='false'}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\ntest <- read_csv(\"test.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 120 Columns: 12\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (12): profile pic, nums/length username, fullname words, nums/length ful...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\n## *Análisis exploratorio de datos*\n\nEn este apartado haremos un estudio exhaustivo del dataset fijandonos detenidamente en todas sus variables y valores.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvariables <- colnames(test)\nvariables\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"profile pic\"          \"nums/length username\" \"fullname words\"      \n [4] \"nums/length fullname\" \"name==username\"       \"description length\"  \n [7] \"external URL\"         \"private\"              \"#posts\"              \n[10] \"#followers\"           \"#follows\"             \"fake\"                \n```\n:::\n:::\n\n\nNuestro dataset consta de varias columns como podemos ver anteriormente,a continuación haremos una breve explicación del significado de cada una de ellas y actualizaremos el dataset quedandonos solo con las que consideramos más relevantes.\n\n-   Profile pic - Nos indica si la cuenta tiene foto de perfil o no\n\n-   Nums/length username - Porcentaje de números presentes en el nombre de usuario\n\n-   Fullname words - Pálabras del nombre de usuario\n\n-   Nums/length fullname - Números presentes en el nombre completo\n\n-   Name==username\" - Indica si el nombre de usuario es exactamente igual al nombre completo\n\n-   Description length - Longitud de la descripción\n\n-   External URL - Si tiene o no URLs externas\n\n-   Private - Indica si tiene o no la cuenta privada\n\n-   #Posts - Número de publicaciones\n\n-   #Followers - Número de seguidores\n\n-   #Follows - Número de cuentas seguidas\n\n-   Fake - Indica si es falsa o no\n\nOtro factor a tener en cuenta antes de meternos en profundidad es ver si hay valores NA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nifelse(sum(is.na(test)) == 0,\"No hay valores NA\",\"El dataset contiene valores NA\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"No hay valores NA\"\n```\n:::\n:::\n\n\nDescripcion y valores que alcanzan\n\nLa mayoría de filas de las columas del dataset ocupan valores binarios(0 para indicar que la condición es falsa y 1 para indicar que la condición es verdadera).\n\nLas columnas que no tienen esa estructura son:follows,followers,posts,nums/length fullname,nums/length username y fullname words.\n\nPara centralizar un poco más nuestro estudio vamos a ver que porcentaje de las cuentas registradas son falsas y como hemos mencionado anteriormente seleccionar las columnas que consideramos más relaventes.\n\nCreamos un dataset llamado \"falsas\" donde guardamos todas lascuentas falsas para analizar posteriormente sus características,además centraremos el estudio en él.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfalsas <- test %>% filter (fake == 1) %>% select(c(`profile pic`,`fullname words`,`name==username`,`description length`,`external URL`,`#posts`,`private`,`#follows`,`#followers`))\nfalsas\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 60 × 9\n   `profile pic` `fullname words` `name==username` `description length`\n           <dbl>            <dbl>            <dbl>                <dbl>\n 1             0                1                0                    0\n 2             1                1                0                    0\n 3             0                1                0                    0\n 4             0                1                1                    0\n 5             0                2                0                    0\n 6             0                0                0                    0\n 7             0                3                0                    0\n 8             0                1                1                    0\n 9             0                1                0                    0\n10             0                1                0                    0\n# ℹ 50 more rows\n# ℹ 5 more variables: `external URL` <dbl>, `#posts` <dbl>, private <dbl>,\n#   `#follows` <dbl>, `#followers` <dbl>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n(nrow(falsas)/nrow(test))*100\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 50\n```\n:::\n:::\n\n\nVemos valores para las columnas no binarias:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(falsas$`fullname words`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   1.000   1.000   1.183   1.000   5.000 \n```\n:::\n:::\n\n\nEn base a estos resultados un poco confunsos donde no podemos sacar mucha conclusión más que el nombre completo en las cuentas falsas suele constar de una palabra profundizamos un poco más el estudio.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(falsas$`fullname words`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 0 3 5\n```\n:::\n:::\n\n\nAntes hemos observado que hay cuentas donde no se indica el nombre así vamos a ver el porcentaje sobre el dataset para ver si es un valor importante.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(nrow(falsas %>% filter(`fullname words` == 0))/nrow(falsas))*100\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8.333333\n```\n:::\n:::\n\n\nPodemos observar que no es un dato muy concluyente,pero me parece curioso observar si ocurre este fenómeno en las cuentas que no sean falsas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(nrow(test %>% filter(`fullname words` == 0, fake == 0))/nrow(test %>% filter(fake == 0)))*100\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3.333333\n```\n:::\n:::\n\n\nMucho menos pero también ocurre así que nos dice poco este parametro. Seguimos realizando el mismo proceso,pero obtenemos valores muy dispares.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(falsas$`#posts`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   0.000   1.000   6.817   4.000  81.000 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(falsas$`#posts`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]  0  1  2  3  8 34  4 15 70 81  5 21 16 23  6 60 13\n```\n:::\n:::\n\n\nComparamos con las cuentas que no son falsas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunique((test %>% filter(fake == 0))$`#posts`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]   35    3  319  273    6    9   19   17   53   97    8   60   51   25  188\n[16]  590  251    0   58   46  250   28 1065  209    5 1879  253   90   12   13\n[31]   59   77   14  330    2  932  463   62  247   85  118  307   42   78  465\n[46]   65  145    1\n```\n:::\n:::\n\n\nVemos que podemos encontrarnos cuentas que no son falsas con los mismos número de publicaciones que una cuenta que si lo es pero si que es un dato importante a tener en cuenta ya que si el número de posts es muy alto nuestras dudas deberian disminuir.\n\nPor otro lado me parece interesante realizar una comparación entre los seguidores que tienen las cuentas falsas y las cantidad de cuentas a las que siguen.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(falsas$`#follows`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    1.0    33.0   163.0   853.9   784.8  7453.0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(falsas$`#followers`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   0.00   29.25   71.50  296.40  215.25 2997.00 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(falsas$`#follows`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]    2   64   30  694   82  124   25   33   34   38   18    1   15   22  353\n[16]   24 2287 6153   31  250 6172 2129  324  126  350  764 3239  920  105   58\n[31]   55  175  202  636   72 7453  162  829  776  942 1445 4239 1381  669  235\n[46]    7  270   76  811  164 3572 1695   68\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(falsas$`#followers`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]    0   45   19   69   22   31    9   23   17   46   16   21   52   24   13\n[16]  227   10   57  341 1789  309 1742 1906   39   62  119 2997  772  129   94\n[31]   37   75   42  145  128   88 1987  100  214  192  415  926  238  193   49\n[46]   74  114  150  833  219\n```\n:::\n:::\n\n\nCreamos una nueva columna en falsas donde hagamos el ratio entre los seguidos y los seguidores\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfalsas <- falsas %>%\n  mutate(ratio = ifelse(is.infinite(`#follows`/`#followers`),0,`#follows`/`#followers`))\nfalsas\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 60 × 10\n   `profile pic` `fullname words` `name==username` `description length`\n           <dbl>            <dbl>            <dbl>                <dbl>\n 1             0                1                0                    0\n 2             1                1                0                    0\n 3             0                1                0                    0\n 4             0                1                1                    0\n 5             0                2                0                    0\n 6             0                0                0                    0\n 7             0                3                0                    0\n 8             0                1                1                    0\n 9             0                1                0                    0\n10             0                1                0                    0\n# ℹ 50 more rows\n# ℹ 6 more variables: `external URL` <dbl>, `#posts` <dbl>, private <dbl>,\n#   `#follows` <dbl>, `#followers` <dbl>, ratio <dbl>\n```\n:::\n:::\n\n\nY vemos que ha sucedido\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(falsas$`ratio`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   1.036   1.971   2.861   4.042  10.058 \n```\n:::\n:::\n\n\nPodemos concluir con estos datos que el número de personas a las que siguen las cuentas falsas es superior al número de personas que lo siguen.\n\nA continuación haremos el mismo procedimiento con las cuentas que no son falsas para sacar conclusiones más concretas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(test %>%\n  filter(fake == 0) %>%\n  mutate(ratio = ifelse(is.infinite(`#follows`/`#followers`), 0,\n                        `#follows`/`#followers`)) %>% select(ratio))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     ratio         \n Min.   :0.000285  \n 1st Qu.:0.477351  \n Median :0.923052  \n Mean   :1.141597  \n 3rd Qu.:1.510534  \n Max.   :5.197917  \n```\n:::\n:::\n\n\nEn este caso vemos que como norma general las cuentas que no son falsas tienen más seguidores que seguidos.\n\nPor último todas las cuentas falsas son privadas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(falsas %>% filter(private == 1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0\n```\n:::\n:::\n\n\n## *Visualización de datos*\n\nAlgo interesante sería crear gráficas para ver de forma más visible los datos de nuestro dataset.\n\nPrimero cargamos la librería que vamos a utilizar\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n\nComparamos la longitud de las descripciones,\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(falsas, aes(x = `description length`)) +\n  geom_density(fill = \"skyblue\", color = \"black\") +\n  ggtitle(\"Densidad de Longitud de Descripción\")\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot((test %>% filter(fake == 0)), aes(x = `description length`)) +\n  geom_density(fill = \"skyblue\", color = \"black\") +\n  ggtitle(\"Densidad de Longitud de Descripción\")\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\nComo hemos inidicado en la parte anterior el 50% de las filas de nuestro dataset hace referencia a cuentas falsas a continuacióno podemos verlo de forma más visual\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(test, aes(x = factor(fake))) +\n  geom_bar(fill = c(\"skyblue\", \"pink\"), color = \"black\") +\n  labs(x = \"Verdaderas y Falsas\", y = \"Número de Perfiles\") +\n  ggtitle(\"Cantidad de Perfiles Falsos y Verdaderos\")\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot((test %>% filter(fake == 0)), aes(x = `#followers`, y = `#follows`)) +\n  geom_point(alpha = 0.5) +\n  ggtitle(\"Relación entre Seguidores y Seguidos\")\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\nDebido a que hay datos más alejados no podemos observar correctamente el diagrama asique para poder verlo correctamente realizamos el siguiente ajuste.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot((test %>% filter(fake == 0)), aes(x = `#followers`, y = `#follows`)) +\n  geom_point(alpha = 0.5) +\n  ggtitle(\"Relación entre Seguidores y Seguidos\")+\n  xlim(0, 3000) +\n  ylim(0, 1000)\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(falsas, aes(x = `#followers`, y = `#follows`)) +\n  geom_point(alpha = 0.5) +\n  ggtitle(\"Relación entre Seguidores y Seguidos\")\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\nRealizamos el mismo procedimiento para ver mejor el diagrama.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(falsas, aes(x = `#followers`, y = `#follows`)) +\n  geom_point(alpha = 0.5) +\n  ggtitle(\"Relación entre Seguidores y Seguidos\")+\n  xlim(0, 350) +\n  ylim(0, 1000)\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n\n## *Reglas de asociación*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(arules)\n```\n:::\n\n\nPara continuar con el estudio y poder aplicar reglas de asociación debemos eliminar las columnas que no nos digan nada(aquellas que tienen en todas sus columnas el mismo valor) para poder discretizar correctamente.\n\nSeguimos aplicando variaciones para poder crear un buen conjunto de reglas:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreglas <- falsas %>% select(`profile pic`, `fullname words`, `name==username`, `description length`,`#posts`, `#follows`, `#followers`)\n```\n:::\n\n\nNos centramos en las columnas que nos ofrencen valores y utilizamos la función cut,para saber que valores tomar hacemos un summary.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Lo utilizo para determinar los rangos que ponerle al cut\nsummary(reglas$`#posts`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   0.000   1.000   6.817   4.000  81.000 \n```\n:::\n\n```{.r .cell-code}\nreglas$`#posts`<- cut(reglas$`#posts`, breaks = c(-1, 1, 6, 82), labels = c(\"One or less\", \"Medium\", \"To much\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Lo utilizo para determinar los rangos que ponerle al cut\nsummary(reglas$`fullname words`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   1.000   1.000   1.183   1.000   5.000 \n```\n:::\n\n```{.r .cell-code}\nreglas$`fullname words`<- cut(reglas$`fullname words`, breaks = c(-1, 1, 2,5), labels = c(\"Short\", \"A few\", \"To much\"))\n```\n:::\n\n\nY hacemos lo mismo con followers y follows\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(reglas$`#follows`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    1.0    33.0   163.0   853.9   784.8  7453.0 \n```\n:::\n\n```{.r .cell-code}\nreglas$`#follows`<- cut(reglas$`#follows`, breaks = c(0, 160, 854, 7500), labels = c(\"A bit\", \"Medium\", \"To much\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(reglas$`#followers`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   0.00   29.25   71.50  296.40  215.25 2997.00 \n```\n:::\n\n```{.r .cell-code}\nreglas$`#followers`<- cut(reglas$`#followers`, breaks = c(-1, 70, 230, 3000), labels = c(\"A bit\", \"Medium\", \"To much\"))\n```\n:::\n\n\nMe parece más visual para realizar el analisis de las reglas que el dataset este compuesto en su totalidad de palabras así que voy a sustituir los 0 por no y los 1 por sí.\n\nEn la longitud de la descripción hemos hecho una excepción porque me interesa saber más si tiene o no tiene descripción.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreglas$`profile pic` <- ifelse(reglas$`profile pic` == 0, \"No\", \"Sí\")\nreglas$`name==username` <- ifelse(reglas$`name==username` == 0, \"No\", \"Sí\")\nreglas$`description length`<- ifelse(reglas$`description length` == 0, \"No\", \"Sí\")\nreglas\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 60 × 7\n   `profile pic` `fullname words` `name==username` `description length` `#posts`\n   <chr>         <fct>            <chr>            <chr>                <fct>   \n 1 No            Short            No               No                   One or …\n 2 Sí            Short            No               No                   One or …\n 3 No            Short            No               No                   One or …\n 4 No            Short            Sí               No                   One or …\n 5 No            A few            No               No                   One or …\n 6 No            Short            No               No                   One or …\n 7 No            To much          No               No                   One or …\n 8 No            Short            Sí               No                   One or …\n 9 No            Short            No               No                   One or …\n10 No            Short            No               No                   One or …\n# ℹ 50 more rows\n# ℹ 2 more variables: `#follows` <fct>, `#followers` <fct>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nreglas <- as(reglas, \"transactions\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Column(s) 1, 3, 4 not logical or factor. Applying default\ndiscretization (see '? discretizeDF').\n```\n:::\n\n```{.r .cell-code}\n# Ejecutar algoritmo Apriori\nr1 <- apriori(reglas, parameter = list(support = 0.1, confidence = 0.5))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nApriori\n\nParameter specification:\n confidence minval smax arem  aval originalSupport maxtime support minlen\n        0.5    0.1    1 none FALSE            TRUE       5     0.1      1\n maxlen target  ext\n     10  rules TRUE\n\nAlgorithmic control:\n filter tree heap memopt load sort verbose\n    0.1 TRUE TRUE  FALSE TRUE    2    TRUE\n\nAbsolute minimum support count: 6 \n\nset item appearances ...[0 item(s)] done [0.00s].\nset transactions ...[18 item(s), 60 transaction(s)] done [0.00s].\nsorting and recoding items ... [15 item(s)] done [0.00s].\ncreating transaction tree ... done [0.00s].\nchecking subsets of size 1 2 3 4 5 6 7 done [0.00s].\nwriting ... [881 rule(s)] done [0.00s].\ncreating S4 object  ... done [0.00s].\n```\n:::\n\n```{.r .cell-code}\nr1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nset of 881 rules \n```\n:::\n:::\n\n\nCon los cambios que hemos realizado se nos generan 881 reglas lo que considero que es una buena cantidad para empezar a trabajar.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(r1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nset of 881 rules\n\nrule length distribution (lhs + rhs):sizes\n  1   2   3   4   5   6   7 \n  6  77 236 305 192  58   7 \n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   1.00    3.00    4.00    3.91    5.00    7.00 \n\nsummary of quality measures:\n    support         confidence        coverage           lift       \n Min.   :0.1000   Min.   :0.5000   Min.   :0.1000   Min.   :0.8036  \n 1st Qu.:0.1500   1st Qu.:0.7692   1st Qu.:0.1667   1st Qu.:1.0345  \n Median :0.2500   Median :0.8750   Median :0.2667   Median :1.0714  \n Mean   :0.2490   Mean   :0.8552   Mean   :0.3014   Mean   :1.3976  \n 3rd Qu.:0.3167   3rd Qu.:1.0000   3rd Qu.:0.3833   3rd Qu.:1.7039  \n Max.   :0.9333   Max.   :1.0000   Max.   :1.0000   Max.   :4.6154  \n     count      \n Min.   : 6.00  \n 1st Qu.: 9.00  \n Median :15.00  \n Mean   :14.94  \n 3rd Qu.:19.00  \n Max.   :56.00  \n\nmining info:\n   data ntransactions support confidence\n reglas            60     0.1        0.5\n                                                                      call\n apriori(data = reglas, parameter = list(support = 0.1, confidence = 0.5))\n```\n:::\n\n```{.r .cell-code}\ninspect(head(r1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    lhs    rhs                     support   confidence coverage lift count\n[1] {}  => {#followers=A bit}      0.5000000 0.5000000  1        1    30   \n[2] {}  => {profile pic=Sí}        0.5166667 0.5166667  1        1    31   \n[3] {}  => {#posts=One or less}    0.5500000 0.5500000  1        1    33   \n[4] {}  => {fullname words=Short}  0.8166667 0.8166667  1        1    49   \n[5] {}  => {description length=No} 0.9333333 0.9333333  1        1    56   \n[6] {}  => {name==username=No}     0.9333333 0.9333333  1        1    56   \n```\n:::\n:::\n\n\nEliminamos las redundancias\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhich(!is.redundant(r1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  [1]   1   2   3   4   5   6   8   9  10  11  14  15  16  20  21  25  28  29\n [19]  30  31  32  33  34  35  36  38  39  41  42  43  44  45  46  48  49  50\n [37]  51  52  53  54  55  56  57  60  61  63  64  68  69  70  71  72  73  74\n [55]  75  76  77  78  79  82  83  91  93 104 105 107 111 113 116 119 124 129\n [73] 130 131 136 138 139 141 143 148 149 150 155 157 158 159 160 161 162 165\n [91] 168 171 174 177 186 190 192 200 201 202 203 204 205 206 212 215 219 222\n[109] 229 231 241 242 249 250 251 252 255 257 260 264 266 269 271 272 273 279\n[127] 280 290 298 299 305 306 307 308 309 310 313 318 352 377 380 386 389 393\n[145] 407 408 412 416 420 424 432 436 478 481 490 528 558 674 679\n```\n:::\n\n```{.r .cell-code}\nr1 <- r1[which(!is.redundant(r1))]\ninspect(head(r1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    lhs    rhs                     support   confidence coverage lift count\n[1] {}  => {#followers=A bit}      0.5000000 0.5000000  1        1    30   \n[2] {}  => {profile pic=Sí}        0.5166667 0.5166667  1        1    31   \n[3] {}  => {#posts=One or less}    0.5500000 0.5500000  1        1    33   \n[4] {}  => {fullname words=Short}  0.8166667 0.8166667  1        1    49   \n[5] {}  => {description length=No} 0.9333333 0.9333333  1        1    56   \n[6] {}  => {name==username=No}     0.9333333 0.9333333  1        1    56   \n```\n:::\n:::\n\n\nVemos que reglas son más significativas según el test de fisher:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninspect(head(r1[is.significant(r1, method = \"fisher\")]))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    lhs                     rhs                  support   confidence coverage \n[1] {#posts=To much}     => {profile pic=Sí}     0.1833333 1.0000000  0.1833333\n[2] {#followers=To much} => {#follows=To much}   0.1666667 0.8333333  0.2000000\n[3] {#follows=To much}   => {#followers=To much} 0.1666667 0.7692308  0.2166667\n[4] {#posts=Medium}      => {profile pic=Sí}     0.2166667 0.8125000  0.2666667\n[5] {#followers=Medium}  => {#follows=Medium}    0.1833333 0.6111111  0.3000000\n[6] {#follows=Medium}    => {#followers=Medium}  0.1833333 0.6111111  0.3000000\n    lift     count\n[1] 1.935484 11   \n[2] 3.846154 10   \n[3] 3.846154 10   \n[4] 1.572581 13   \n[5] 2.037037 11   \n[6] 2.037037 11   \n```\n:::\n:::\n\n\nCuales son los tres itemps más frecuentes,\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr2 <- sort(r1, by = \"count\")\ninspect(head(r2,n=3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    lhs                        rhs                     support   confidence\n[1] {}                      => {description length=No} 0.9333333 0.9333333 \n[2] {}                      => {name==username=No}     0.9333333 0.9333333 \n[3] {description length=No} => {name==username=No}     0.9000000 0.9642857 \n    coverage  lift     count\n[1] 1.0000000 1.000000 56   \n[2] 1.0000000 1.000000 56   \n[3] 0.9333333 1.033163 54   \n```\n:::\n:::\n\n\nEstos valores nos indican que es muy probable que las cuentas falsas no tengan descripción alguna,y que si una cuenta falsa no tiene descripción lo más seguro es que su nombre de usuario no sea igual a su nombre real.Aunque esto no esta influye sobre la otra por los fift cercanos a uno.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr2 <- sort(r1, by = \"support\")\ninspect(head(r2,n=1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    lhs    rhs                     support   confidence coverage lift count\n[1] {}  => {description length=No} 0.9333333 0.9333333  1        1    56   \n```\n:::\n:::\n\n\nPor otra parte veo interesante fijarnos en las reglas menos relevantes y para ello selecciono las 5 menos relevantes y saco conclusiones.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr2 <- sort(r1, by = \"support\", decreasing = FALSE)\ninspect(head(r2,n=5))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    lhs                        rhs                 support confidence  coverage     lift count\n[1] {profile pic=Sí,                                                                          \n     #followers=To much}    => {#follows=To much}      0.1  0.8571429 0.1166667 3.956044     6\n[2] {name==username=No,                                                                       \n     #followers=To much}    => {profile pic=Sí}        0.1  0.6000000 0.1666667 1.161290     6\n[3] {fullname words=Short,                                                                    \n     #posts=Medium}         => {#followers=Medium}     0.1  0.5000000 0.2000000 1.666667     6\n[4] {profile pic=Sí,                                                                          \n     name==username=No,                                                                       \n     #followers=To much}    => {#follows=To much}      0.1  1.0000000 0.1000000 4.615385     6\n[5] {profile pic=Sí,                                                                          \n     fullname words=Short,                                                                    \n     #posts=Medium}         => {#followers=Medium}     0.1  0.6666667 0.1500000 2.222222     6\n```\n:::\n:::\n\n\nPodemos ver que estas reglas están fuertemente enlazadas entre sí,pero que aún así no suceden con frecuencia.\n\nBusquemos reglas muy fuertemente enlazadas y con un gran soporte.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr3 <- subset(r1,support > 0.7 & lift > 1)\ninspect(head(r3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    lhs                        rhs                       support confidence  coverage     lift count\n[1] {fullname words=Short}  => {description length=No} 0.7833333  0.9591837 0.8166667 1.027697    47\n[2] {description length=No} => {fullname words=Short}  0.7833333  0.8392857 0.9333333 1.027697    47\n[3] {description length=No} => {name==username=No}     0.9000000  0.9642857 0.9333333 1.033163    54\n[4] {name==username=No}     => {description length=No} 0.9000000  0.9642857 0.9333333 1.033163    54\n[5] {fullname words=Short,                                                                          \n     name==username=No}     => {description length=No} 0.7500000  1.0000000 0.7500000 1.071429    45\n```\n:::\n:::\n\n\nConcluimos con que si una cuenta no tiene descripción probablemente no se haya currado su perfil y su nombre sea inventado, es decir que no coincida con el de usuario y además su nombre conste de pocas palabras.\n\nEstos dos atributos son fuertes indicadores de que la cuenta no es muy veraz.\n\n## *FCA*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(fcaR)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'fcaR'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:Matrix':\n\n    %&%\n```\n:::\n\n```{.r .cell-code}\nfalsas_sin_ratio <- falsas %>% select(1:9)\nfc <- FormalContext$new(falsas_sin_ratio)\n```\n:::\n\n\nComo tenemos valores que son distintos de 0 o 1 aplicamos scale para poder trabajar correctamente.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$scale(\"fullname words\", type = \"ordinal\")\nfc$get_scales(\"fullname words\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFormalContext with 5 objects and 5 attributes.\n   fullname words <= 0  fullname words <= 1  fullname words <= 2  \n 0          X                    X                    X           \n 1                               X                    X           \n 2                                                    X           \n 3                                                                \n 5                                                                \nOther attributes are: fullname words <= 3, fullname words <= 5 \n```\n:::\n:::\n\n\nPara los valores enumerados considero que esta es la escala más apropiada mientras que para las demás considero que la más apropiada son los intervalos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$scale(\"#posts\", \n         type = \"interval\", \n         values = c(-1, 1, 6, 82), \n         interval_names = c(\"One or less\", \"Medium\", \"To much\"))\n\nfc$scale(\"#follows\", \n         type = \"interval\", \n         values =  c(0, 160, 854, 7500), \n         interval_names = c(\"A bit\", \"Medium\", \"To much\"))\n\nfc$scale(\"#followers\", \n         type = \"interval\", \n         values = c(-1, 70, 230, 3000), \n         interval_names = c(\"A bit\", \"Medium\", \"To much\"))\nfc$scale(\"description length\", \n         type = \"interval\", \n         values = c(-1, 1, 115), \n         interval_names = c(\"No\", \"Yes\"))\n```\n:::\n\n\nVemos como nos ha quedado el escalado que hemos realizado.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$get_scales(c(\"#posts\", \"#followers\",\"#follows\",\"description length\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$`#posts`\nFormalContext with 17 objects and 3 attributes.\n    #posts is One or less  #posts is Medium  #posts is To much  \n  0           X                                                 \n  1           X                                                 \n  2                                X                            \n  3                                X                            \n  4                                X                            \n  5                                X                            \n  6                                X                            \n  8                                                  X          \n 13                                                  X          \n 15                                                  X          \n\n$`#followers`\nFormalContext with 50 objects and 3 attributes.\n    #followers is A bit  #followers is Medium  #followers is To much  \n  0          X                                                        \n  9          X                                                        \n 10          X                                                        \n 13          X                                                        \n 16          X                                                        \n 17          X                                                        \n 19          X                                                        \n 21          X                                                        \n 22          X                                                        \n 23          X                                                        \n\n$`#follows`\nFormalContext with 53 objects and 3 attributes.\n    #follows is A bit  #follows is Medium  #follows is To much  \n  1         X                                                   \n  2         X                                                   \n  7         X                                                   \n 15         X                                                   \n 18         X                                                   \n 22         X                                                   \n 24         X                                                   \n 25         X                                                   \n 30         X                                                   \n 31         X                                                   \n\n$`description length`\nFormalContext with 5 objects and 2 attributes.\n     description length is No  description length is Yes  \n   0             X                                        \n  14                                       X              \n  20                                       X              \n  58                                       X              \n 112                                       X              \n```\n:::\n:::\n\n\nVemos cuales son todos los atributos y objetos que tenemos para el estudio\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$attributes\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"profile pic\"               \"fullname words <= 0\"      \n [3] \"fullname words <= 1\"       \"fullname words <= 2\"      \n [5] \"fullname words <= 3\"       \"fullname words <= 5\"      \n [7] \"name==username\"            \"description length is No\" \n [9] \"description length is Yes\" \"external URL\"             \n[11] \"#posts is One or less\"     \"#posts is Medium\"         \n[13] \"#posts is To much\"         \"private\"                  \n[15] \"#follows is A bit\"         \"#follows is Medium\"       \n[17] \"#follows is To much\"       \"#followers is A bit\"      \n[19] \"#followers is Medium\"      \"#followers is To much\"    \n```\n:::\n\n```{.r .cell-code}\nfc$objects\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"1\"  \"2\"  \"3\"  \"4\"  \"5\"  \"6\"  \"7\"  \"8\"  \"9\"  \"10\" \"11\" \"12\" \"13\" \"14\" \"15\"\n[16] \"16\" \"17\" \"18\" \"19\" \"20\" \"21\" \"22\" \"23\" \"24\" \"25\" \"26\" \"27\" \"28\" \"29\" \"30\"\n[31] \"31\" \"32\" \"33\" \"34\" \"35\" \"36\" \"37\" \"38\" \"39\" \"40\" \"41\" \"42\" \"43\" \"44\" \"45\"\n[46] \"46\" \"47\" \"48\" \"49\" \"50\" \"51\" \"52\" \"53\" \"54\" \"55\" \"56\" \"57\" \"58\" \"59\" \"60\"\n```\n:::\n:::\n\n\nRealmente en base a la salidas obtenidas lo que verdaderamente me interesa es centrarme en los atributos.\n\nCreamos un reticulo con los atributos\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$find_concepts()\nlength(fc$concepts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 185\n```\n:::\n:::\n\n\nPrimero crearemos un conjujnto de atributos a partir del conjunto previo que tenemos.Asignamo los valores a los atributos que nos parece interesante estudiar,obtenemos a traves de \"extend\" los objetos que poseen esos atributos para así obtener los atributos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset_attributes <- Set$new(fc$attributes)\nset_attributes$assign(\"follows is To much\" = 1, \"description length is No\" = 1)\nfc$extent(set_attributes)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n  24, 25, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44,\n  45, 46, 47, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60}\n```\n:::\n\n```{.r .cell-code}\nfc$intent(fc$extent(set_attributes))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{fullname words <= 5, description length is No}\n```\n:::\n:::\n\n\nCreamos una subreticulo el cual tengo los conceptos con un soporte alto.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  idx <- which(fc$concepts$support()>0.7)\n  sublattice <- fc$concepts$sublattice(idx)\n  #No de deja mostraslo\n  #sublattice$plot()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$find_implications()\nlength(fc$implications)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 20\n```\n:::\n:::\n\n\nVamos a empezar a filtar :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$implications$filter(lhs = \"name==username\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nImplication set with 7 implications.\nRule 1: {fullname words <= 5, name==username} -> {fullname words <= 1, fullname\n  words <= 2, fullname words <= 3}\nRule 2: {fullname words <= 1, fullname words <= 2, fullname words <= 3, fullname\n  words <= 5, name==username, #followers is To much} -> {description length is\n  Yes}\nRule 3: {fullname words <= 1, fullname words <= 2, fullname words <= 3, fullname\n  words <= 5, name==username, #follows is To much} -> {description length is\n  Yes, #posts is Medium, #followers is To much}\nRule 4: {fullname words <= 1, fullname words <= 2, fullname words <= 3, fullname\n  words <= 5, name==username, #posts is Medium} -> {description length is Yes,\n  #follows is To much, #followers is To much}\nRule 5: {fullname words <= 1, fullname words <= 2, fullname words <= 3, fullname\n  words <= 5, name==username, description length is Yes, #follows is Medium,\n  #followers is To much} -> {profile pic, #posts is To much}\nRule 6: {fullname words <= 1, fullname words <= 2, fullname words <= 3, fullname\n  words <= 5, name==username, description length is No} -> {#posts is One or\n  less, #follows is Medium, #followers is A bit}\nRule 7: {profile pic, fullname words <= 1, fullname words <= 2, fullname words\n  <= 3, fullname words <= 5, name==username} -> {description length is Yes,\n  #posts is To much, #follows is Medium, #followers is To much}\n```\n:::\n:::\n\n\nConclusiones sobre las cuentas falsas a partir de esas implicaciones son:\n\n1.  Las cuentas con nombres iguales a los del usuario suelen tener cuentas falsas.\n\n2.  Las cuentas con nombres iguales y muchos seguidores tienden a tener un número de publicaciones\n\n3.  Las cuentas con descripción corta o inexistente tienen menos actividad\n\nQuiero comparar los dos perfiles posibles en base a la descripción\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$implications$filter(lhs = \"description length is No\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nImplication set with 34 implications.\nRule 1: {fullname words <= 3, fullname words <= 5, description length is No,\n  #followers is To much} -> {fullname words <= 2}\nRule 2: {fullname words <= 3, fullname words <= 5, description length is No,\n  #follows is To much} -> {fullname words <= 2}\nRule 3: {fullname words <= 3, fullname words <= 5, description length is No,\n  #posts is Medium} -> {fullname words <= 2}\nRule 4: {fullname words <= 3, fullname words <= 5, description length is No,\n  description length is Yes} -> {profile pic, fullname words <= 0, fullname\n  words <= 1, fullname words <= 2, name==username, external URL, #posts is One\n  or less, #posts is Medium, #posts is To much, private, #follows is A bit,\n  #follows is Medium, #follows is To much, #followers is A bit, #followers is\n  Medium, #followers is To much}\nRule 5: {fullname words <= 2, fullname words <= 3, fullname words <= 5,\n  description length is No, #followers is Medium, #followers is To much} ->\n  {profile pic, fullname words <= 0, fullname words <= 1, name==username,\n  description length is Yes, external URL, #posts is One or less, #posts is\n  Medium, #posts is To much, private, #follows is A bit, #follows is Medium,\n  #follows is To much, #followers is A bit}\nRule 6: {fullname words <= 2, fullname words <= 3, fullname words <= 5,\n  description length is No, #followers is A bit, #followers is Medium} ->\n  {profile pic, fullname words <= 0, fullname words <= 1, name==username,\n  description length is Yes, external URL, #posts is One or less, #posts is\n  Medium, #posts is To much, private, #follows is A bit, #follows is Medium,\n  #follows is To much, #followers is To much}\nRule 7: {fullname words <= 2, fullname words <= 3, fullname words <= 5,\n  description length is No, #follows is A bit, #followers is Medium} -> {profile\n  pic}\nRule 8: {fullname words <= 2, fullname words <= 3, fullname words <= 5,\n  description length is No, #posts is Medium, #followers is Medium} -> {profile\n  pic}\nRule 9: {fullname words <= 2, fullname words <= 3, fullname words <= 5,\n  description length is No, #posts is One or less, #followers is Medium} ->\n  {fullname words <= 1}\nRule 10: {fullname words <= 1, fullname words <= 2, fullname words <= 3,\n  fullname words <= 5, description length is No, #follows is Medium, #followers\n  is To much} -> {#posts is One or less}\nRule 11: {fullname words <= 1, fullname words <= 2, fullname words <= 3,\n  fullname words <= 5, description length is No, #follows is A bit, #follows\n  is Medium} -> {profile pic, fullname words <= 0, name==username, description\n  length is Yes, external URL, #posts is One or less, #posts is Medium, #posts\n  is To much, private, #follows is To much, #followers is A bit, #followers is\n  Medium, #followers is To much}\nRule 12: {fullname words <= 1, fullname words <= 2, fullname words <= 3,\n  fullname words <= 5, description length is No, #posts is Medium, #follows is\n  To much, #followers is To much} -> {fullname words <= 0}\nRule 13: {fullname words <= 1, fullname words <= 2, fullname words <= 3,\n  fullname words <= 5, name==username, description length is No} -> {#posts is\n  One or less, #follows is Medium, #followers is A bit}\nRule 14: {fullname words <= 0, fullname words <= 1, fullname words <= 2,\n  fullname words <= 3, fullname words <= 5, description length is No, #followers\n  is To much} -> {#follows is To much}\nRule 15: {fullname words <= 0, fullname words <= 1, fullname words <=\n  2, fullname words <= 3, fullname words <= 5, description length is No,\n  #followers is Medium} -> {profile pic, name==username, description length\n  is Yes, external URL, #posts is One or less, #posts is Medium, #posts is To\n  much, private, #follows is A bit, #follows is Medium, #follows is To much,\n  #followers is A bit, #followers is To much}\nRule 16: {fullname words <= 0, fullname words <= 1, fullname words <= 2,\n  fullname words <= 3, fullname words <= 5, description length is No, #followers\n  is A bit} -> {#posts is One or less, #follows is A bit}\nRule 17: {fullname words <= 0, fullname words <= 1, fullname words <= 2,\n  fullname words <= 3, fullname words <= 5, description length is No, #follows\n  is To much} -> {#followers is To much}\nRule 18: {fullname words <= 0, fullname words <= 1, fullname words <= 2,\n  fullname words <= 3, fullname words <= 5, description length is No, #follows\n  is Medium} -> {profile pic, name==username, description length is Yes,\n  external URL, #posts is One or less, #posts is Medium, #posts is To much,\n  private, #follows is A bit, #follows is To much, #followers is A bit,\n  #followers is Medium, #followers is To much}\nRule 19: {fullname words <= 0, fullname words <= 1, fullname words <= 2,\n  fullname words <= 3, fullname words <= 5, description length is No, #follows\n  is A bit} -> {#posts is One or less, #followers is A bit}\nRule 20: {fullname words <= 0, fullname words <= 1, fullname words <= 2,\n  fullname words <= 3, fullname words <= 5, description length is No, #posts is\n  Medium} -> {#follows is To much, #followers is To much}\nRule 21: {fullname words <= 0, fullname words <= 1, fullname words <= 2,\n  fullname words <= 3, fullname words <= 5, description length is No, #posts is\n  One or less} -> {#follows is A bit, #followers is A bit}\nRule 22: {profile pic, fullname words <= 3, fullname words <= 5, description\n  length is No} -> {fullname words <= 2}\nRule 23: {profile pic, fullname words <= 2, fullname words <= 3, fullname words\n  <= 5, description length is No, #followers is To much} -> {#follows is To\n  much}\nRule 24: {profile pic, fullname words <= 2, fullname words <= 3, fullname words\n  <= 5, description length is No, #follows is To much, #followers is Medium} ->\n  {#posts is Medium}\nRule 25: {profile pic, fullname words <= 2, fullname words <= 3, fullname words\n  <= 5, description length is No, #posts is To much, #followers is A bit} ->\n  {fullname words <= 0, fullname words <= 1, name==username, description length\n  is Yes, external URL, #posts is One or less, #posts is Medium, private,\n  #follows is A bit, #follows is Medium, #follows is To much, #followers is\n  Medium, #followers is To much}\nRule 26: {profile pic, fullname words <= 2, fullname words <= 3, fullname words\n  <= 5, description length is No, #posts is To much, #follows is To much} ->\n  {fullname words <= 1, #followers is To much}\nRule 27: {profile pic, fullname words <= 2, fullname words <= 3, fullname words\n  <= 5, description length is No, #posts is To much, #follows is A bit} ->\n  {#followers is Medium}\nRule 28: {profile pic, fullname words <= 2, fullname words <= 3, fullname\n  words <= 5, description length is No, #posts is Medium, #posts is To much} ->\n  {fullname words <= 0, fullname words <= 1, name==username, description length\n  is Yes, external URL, #posts is One or less, private, #follows is A bit,\n  #follows is Medium, #follows is To much, #followers is A bit, #followers is\n  Medium, #followers is To much}\nRule 29: {profile pic, fullname words <= 2, fullname words <= 3, fullname words\n  <= 5, description length is No, #posts is One or less, #posts is To much} ->\n  {fullname words <= 0, fullname words <= 1, name==username, description length\n  is Yes, external URL, #posts is Medium, private, #follows is A bit, #follows\n  is Medium, #follows is To much, #followers is A bit, #followers is Medium,\n  #followers is To much}\nRule 30: {profile pic, fullname words <= 1, fullname words <= 2, fullname\n  words <= 3, fullname words <= 5, description length is No, #posts is To much,\n  #follows is Medium} -> {#followers is Medium}\nRule 31: {profile pic, fullname words <= 1, fullname words <= 2, fullname\n  words <= 3, fullname words <= 5, description length is No, #posts is Medium,\n  #follows is To much} -> {#followers is Medium}\nRule 32: {profile pic, fullname words <= 1, fullname words <= 2, fullname words\n  <= 3, fullname words <= 5, description length is No, #posts is One or less,\n  #followers is Medium} -> {#follows is Medium}\nRule 33: {profile pic, fullname words <= 1, fullname words <= 2, fullname words\n  <= 3, fullname words <= 5, description length is No, #posts is One or less,\n  #follows is To much} -> {fullname words <= 0, name==username, description\n  length is Yes, external URL, #posts is Medium, #posts is To much, private,\n  #follows is A bit, #follows is Medium, #followers is A bit, #followers is\n  Medium, #followers is To much}\nRule 34: {profile pic, fullname words <= 0, fullname words <= 1, fullname words\n  <= 2, fullname words <= 3, fullname words <= 5, description length is No} ->\n  {#posts is To much, #follows is To much, #followers is To much}\n```\n:::\n:::\n\n\nPodemos destacar que la longitud del nombre completo y la descripción tienen gran influencia en los demás atributos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfc$implications$filter(lhs = \"description length is Yes\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nImplication set with 11 implications.\nRule 1: {fullname words <= 5, description length is Yes} -> {fullname words <=\n  3}\nRule 2: {fullname words <= 3, fullname words <= 5, description length is Yes,\n  #followers is A bit} -> {fullname words <= 2, #posts is One or less, #follows\n  is A bit}\nRule 3: {fullname words <= 3, fullname words <= 5, description length is Yes,\n  #follows is To much} -> {#posts is Medium, #followers is To much}\nRule 4: {fullname words <= 3, fullname words <= 5, description length is Yes,\n  #follows is A bit} -> {fullname words <= 2, #posts is One or less, #followers\n  is A bit}\nRule 5: {fullname words <= 3, fullname words <= 5, description length is Yes,\n  #posts is Medium} -> {#follows is To much, #followers is To much}\nRule 6: {fullname words <= 3, fullname words <= 5, description length is Yes,\n  #posts is One or less} -> {fullname words <= 2, #follows is A bit, #followers\n  is A bit}\nRule 7: {fullname words <= 3, fullname words <= 5, description length is No,\n  description length is Yes} -> {profile pic, fullname words <= 0, fullname\n  words <= 1, fullname words <= 2, name==username, external URL, #posts is One\n  or less, #posts is Medium, #posts is To much, private, #follows is A bit,\n  #follows is Medium, #follows is To much, #followers is A bit, #followers is\n  Medium, #followers is To much}\nRule 8: {fullname words <= 2, fullname words <= 3, fullname words <= 5,\n  description length is Yes, #followers is To much} -> {fullname words <= 1,\n  name==username}\nRule 9: {fullname words <= 1, fullname words <= 2, fullname words <= 3, fullname\n  words <= 5, description length is Yes} -> {name==username, #followers is To\n  much}\nRule 10: {fullname words <= 1, fullname words <= 2, fullname words <= 3,\n  fullname words <= 5, name==username, description length is Yes, #follows is\n  Medium, #followers is To much} -> {profile pic, #posts is To much}\nRule 11: {profile pic, fullname words <= 3, fullname words <= 5, description\n  length is Yes} -> {#followers is To much}\n```\n:::\n:::\n\n\nEn general, las cuentas con nombres completos cortos y descripciones largas tienden a tener nombres de usuario que coinciden con sus nombres completos y además si la cuenta tiene muchos seguidores tiende a tener muchos seguidos y en el caso contrario si tiene pocos seguidores del mismo modo sigue a muy pocas personas.\n\n## *Regresión*\n\nUna vez hemos realizado un estudio exahustivo de que variables son más relevantes a la hora de determinar si una cuenta es falsa o no veo interesante creao un modelo predicctivo utilizando regresión que determine si una cuenta es falsa o no.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(caret)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: lattice\n```\n:::\n\n```{.r .cell-code}\nlibrary(rpart)\nlibrary(gbm)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoaded gbm 2.1.9\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThis version of gbm is no longer under development. Consider transitioning to gbm3, https://github.com/gbm-developers/gbm3\n```\n:::\n:::\n\n\n\nHe pensado en abarcar diferentes métodos,desde modelos lineales hasta modelos basados en arboles de predicción.\n\nLo primero  que se debe hacer el elegir una semilla de productividad y el porcentaje del dataset que destinaremos para entrenamiento.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1811) \nidx2 <- createDataPartition(test$fake, p = 0.6, list = FALSE, times = 1)\nentrenamiento <- test[idx2,]\ntestado <- test[-idx2,]\n```\n:::\n\n\nPrimero realizaremos un modelo lineal y sacaremos nuestras conclusiones\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm <- lm(fake ~ ., data = entrenamiento)\nsummary(lm)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = fake ~ ., data = entrenamiento)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.66759 -0.12459  0.02351  0.18207  0.50275 \n\nCoefficients:\n                         Estimate Std. Error t value Pr(>|t|)    \n(Intercept)             8.385e-01  9.940e-02   8.436 8.88e-12 ***\n`profile pic`          -2.916e-01  9.495e-02  -3.071  0.00320 ** \n`nums/length username`  6.111e-01  2.268e-01   2.695  0.00913 ** \n`fullname words`       -1.371e-02  2.971e-02  -0.462  0.64606    \n`nums/length fullname` -1.522e-01  2.449e-01  -0.622  0.53661    \n`name==username`       -1.224e-02  2.164e-01  -0.057  0.95508    \n`description length`   -2.246e-03  1.130e-03  -1.989  0.05128 .  \n`external URL`         -2.456e-01  1.616e-01  -1.520  0.13373    \nprivate                -4.863e-01  9.313e-02  -5.222 2.33e-06 ***\n`#posts`               -2.268e-04  2.515e-04  -0.902  0.37078    \n`#followers`            1.588e-07  3.346e-07   0.475  0.63672    \n`#follows`              5.899e-05  2.304e-05   2.560  0.01299 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.2931 on 60 degrees of freedom\nMultiple R-squared:  0.7137,\tAdjusted R-squared:  0.6612 \nF-statistic:  13.6 on 11 and 60 DF,  p-value: 1.474e-12\n```\n:::\n\n```{.r .cell-code}\npredictions_lm <- predict(lm, testado)\nmean((testado$fake - predictions_lm)^2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.04944705\n```\n:::\n:::\n\nEl modelo de regresión ajustado presenta varios coeficientes estadísticamente significativos, indicando que ciertas características tienen una influencia importante en la predicción de la variable \"fake\". Específicamente, la presencia de una foto de perfil, la proporción de números en el nombre de usuario, si el perfil es privado y el número de cuentas seguidas son predictores significativos. La longitud de la descripción también se aproxima a la significancia.Que como hemos indicado durante todo el  estudio son las variables en las que más nos hemos centrado.\n\nA continuación aplicamos gbm que es un modelo predictivo basado en arboles de decición no deterministas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngbm_model <- gbm(fake ~ .,data = entrenamiento,distribution = \"gaussian\", n.trees = 500, interaction.depth = 4, shrinkage = 0.05)\nsummary(gbm_model)\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-59-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n                                          var   rel.inf\n`#posts`                             `#posts` 34.297662\n`#followers`                     `#followers` 18.989042\n`description length`     `description length` 13.079030\n`#follows`                         `#follows` 12.168072\nprivate                               private  8.279534\n`nums/length username` `nums/length username`  6.390092\n`fullname words`             `fullname words`  5.781618\n`profile pic`                   `profile pic`  1.014950\n`nums/length fullname` `nums/length fullname`  0.000000\n`name==username`             `name==username`  0.000000\n`external URL`                 `external URL`  0.000000\n```\n:::\n\n```{.r .cell-code}\npredictions_gbm <- predict(gbm_model, newdata = testado , n.trees = 500)\nmean((testado$fake - predictions_gbm)^2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.05058744\n```\n:::\n:::\n\n\nEste modelo es muy interesante porque nos permite ver de forma muy visual que veriables son las más importantes y cuales tienen menos o ninguna influencia.\n\n## *Series Temporales*\n\nNo veo posible realizar un analisis aplicando esta técnica ya que no hay ninguna marca temporal en el dataset, pero vamos a intentar buscar una correlación en el crecimiento de la descricipción.\n\nPara empezar definimos la columana con la que queremos trabajar y la comvertimos a tipo time.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(TTR)\nlibrary(forecast)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRegistered S3 method overwritten by 'quantmod':\n  method            from\n  as.zoo.data.frame zoo \n```\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\ndescription_length <- test$`description length`\n\nts_description_length <- ts(description_length, frequency = 12)\n```\n:::\n\nPara que sea más visible realizamos varios gráficos.\n\n::: {.cell}\n\n```{.r .cell-code}\nplot.ts(ts_description_length, main = \"Descripcion en el tiempo\", ylab = \"\", xlab = \"\")\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-61-1.png){width=672}\n:::\n\n```{.r .cell-code}\nautoplot(ts_description_length) + ggtitle(\"Descripcion en el tiempo\") + xlab(\"\") + ylab(\"\")\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-61-2.png){width=672}\n:::\n:::\n\n\nDescomponemos la serie temporar y la mostramos\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndecomposed_ts <- decompose(ts_description_length)\nplot(decomposed_ts)\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-62-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nf <- auto.arima(ts_description_length)\nsummary(f)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSeries: ts_description_length \nARIMA(1,1,1) with drift \n\nCoefficients:\n          ar1      ma1    drift\n      -0.1551  -0.9362  -0.6014\ns.e.   0.0991   0.0523   0.2147\n\nsigma^2 = 1348:  log likelihood = -597.29\nAIC=1202.59   AICc=1202.94   BIC=1213.7\n\nTraining set error measures:\n                    ME     RMSE      MAE MPE MAPE     MASE       ACF1\nTraining set 0.3003965 36.09401 24.42734 NaN  Inf 0.773425 0.00269847\n```\n:::\n:::\n\n\nDebido a que verdaderamente no es una variable temporal pero queriamos desarrollar la técnica los valores obtenido son malos, esto podemos verlo en MAPE infinito que podrían sugerir la necesidad de una mayor revisión de los datos o el modelo.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nforecasted_values <- forecast(f, h = 12)\nplot(forecasted_values)\n```\n\n::: {.cell-output-display}\n![](summary_files/figure-html/unnamed-chunk-64-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\naccuracy(f)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                    ME     RMSE      MAE MPE MAPE     MASE       ACF1\nTraining set 0.3003965 36.09401 24.42734 NaN  Inf 0.773425 0.00269847\n```\n:::\n:::\n\n\nVemos que los valores obtenidos no son propios de un buen modelo.",
    "supporting": [
      "summary_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}